var I=Object.defineProperty,P=Object.defineProperties;var B=Object.getOwnPropertyDescriptors;var v=Object.getOwnPropertySymbols;var D=Object.prototype.hasOwnProperty,q=Object.prototype.propertyIsEnumerable;var w=(t,e,a)=>e in t?I(t,e,{enumerable:!0,configurable:!0,writable:!0,value:a}):t[e]=a,m=(t,e)=>{for(var a in e||(e={}))D.call(e,a)&&w(t,a,e[a]);if(v)for(var a of v(e))q.call(e,a)&&w(t,a,e[a]);return t},y=(t,e)=>P(t,B(e));var G=(t,e,a)=>{if(!e.has(t))throw TypeError("Cannot "+a)};var p=(t,e,a)=>(G(t,e,"read from private field"),a?a.call(t):e.get(t)),N=(t,e,a)=>{if(e.has(t))throw TypeError("Cannot add the same private member more than once");e instanceof WeakSet?e.add(t):e.set(t,a)};import{c as T,M as k,h as R,b as F,S as O,j as f,L as _,_ as z,r as l,B as $,R as V,a as u,d as W,e as Y}from"./vendor.e8acf6a1.js";const K=function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))n(s);new MutationObserver(s=>{for(const o of s)if(o.type==="childList")for(const c of o.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&n(c)}).observe(document,{childList:!0,subtree:!0});function a(s){const o={};return s.integrity&&(o.integrity=s.integrity),s.referrerpolicy&&(o.referrerPolicy=s.referrerpolicy),s.crossorigin==="use-credentials"?o.credentials="include":s.crossorigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function n(s){if(s.ep)return;s.ep=!0;const o=a(s);fetch(s.href,o)}};K();var L=[{id:1,username:"paeolohiram",description:"Rockstar of the world",avatar:"https://randomuser.me/api/portraits/men/32.jpg"},{id:2,username:"dieloy",description:"Gamer professional and passionate designer",avatar:"https://randomuser.me/api/portraits/women/44.jpg"},{id:3,username:"ygreensall",description:"Singer and master communication services",avatar:"https://randomuser.me/api/portraits/men/46.jpg"},{id:4,username:"ubrittian",description:"Traveler lover and professional photographer",avatar:"https://api.uifaces.co/our-content/donated/3799Ffxy.jpeg"},{id:5,username:"roremdev",description:"\u26A1\uFE0F Software Engineer",avatar:"https://avatars.githubusercontent.com/u/58270359?s=400&u=c28c4995ee478b3d17bf6b5a8c00c41ce19acb6f&v=4"}],U=[{id:1,image:"https://images.unsplash.com/photo-1570654844562-3661dd9ab169?ixlib=rb-1.2.1&ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&auto=format&fit=crop&w=987&q=80",title:"Nordic Mountains",description:"Some quick example to build on the card title and make up the bulk the card's content.",comments:98,likes:100},{id:2,image:"https://images.unsplash.com/photo-1604537529300-3744886c512c?ixlib=rb-1.2.1&ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&auto=format&fit=crop&w=2669&q=80",title:"England Lake",description:"Some quick example to build on the card title and make up the bulk the card's content.",comments:25,likes:50},{id:3,image:"https://images.unsplash.com/photo-1591017403321-dc264d1fd6e5?ixlib=rb-1.2.1&ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&auto=format&fit=crop&w=2671&q=80",title:"Miami Beach",description:"Some quick example to build on the card title and make up the bulk the card's content.",comments:2,likes:15},{id:4,image:"https://images.unsplash.com/photo-1570655670276-2fa0872d03e3?ixlib=rb-1.2.1&ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&auto=format&fit=crop&w=2668&q=80",title:"Canada Landscape",description:"Some quick example to build on the card title and make up the bulk the card's content.",comments:100,likes:150}];function J({environment:t}){return console.log("miragejs server"),T({environment:t,models:{author:k.extend({post:R()}),post:k.extend({author:F()})},serializers:{post:O.extend({include:["author"],embed:!0})},seeds(e){U.forEach((a,n)=>{e.create("post",y(m({},a),{author:e.create("author",L[n])}))}),e.create("author",L[4])},routes(){this.get("/api/author/:id",({authors:e},{params:a})=>{const{id:n}=a;return e.find(n)}),this.get("/api/posts",({posts:e},{queryParams:a})=>{const{title:n}=a;return n?e.where(s=>s.title.includes(n)):e.all()}),this.patch("/api/post/:id",({db:e,posts:a},{params:n,requestBody:s})=>{const{id:o}=n,c=e.posts.find(o);return JSON.parse(s).post.like&&c.likes>=0?a.find(o).update({likes:++c.likes}):a.find(o).update({likes:--c.likes})})}})}var Q="/Agora/assets/agora.b5511d9e.svg",X="/Agora/assets/user.e403ebee.svg";const r=f.exports.jsx,i=f.exports.jsxs,C=f.exports.Fragment,Z="flex justify-between items-end",ee="cursor-pointer";var E=()=>i("header",{className:Z,children:[r(_,{to:"/",children:r("img",{src:Q,alt:"Agora"})}),r(_,{to:"/profile",children:r("img",{className:ee,src:X,alt:"User"})})]});const te="grid gap-y-6 grid-cols-1 md:grid-cols-6",re=`p-2
                    rounded-lg border-2 border-primary
                    outline-none
                    text-primary
                    col-span-2`;var ae=({handleSearch:t})=>r("div",{className:te,children:r("input",{className:re,type:"text",placeholder:"Search",onKeyUp:t})}),A="/Agora/assets/logo.f5ad66c7.svg";const se=`fixed inset-0 z-10
                flex flex-col justify-center items-center`,oe="mb-3 flex flex-col",ne="text-primary-bold font-normal text-2xl";var H=()=>i("div",{className:se,children:[i("div",{className:oe,children:[r("img",{src:A,alt:"logo"}),r("span",{className:ne,children:"Loading"})]}),r(z,{color:"#657172",loading:"true",size:35})]}),ie="/Agora/assets/comment.e97b16fd.svg",ce="/Agora/assets/heart.5a1f8d21.svg",d;class x extends Error{constructor(e="CLIENT",a="without trace"){super(a);N(this,d,{CLIENT:{code:500,description:"Internal Application Error"}});this.code=p(this,d)[e].code,this.description=p(this,d)[e].description}}d=new WeakMap;const h=async(t="")=>{try{return await fetch(`/api/posts?title=${t}`).then(e=>e.json()).then(e=>e.posts)}catch(e){throw new x("CLIENT",e.message)}},le=async t=>{try{return await fetch(`/api/post/${t}`,{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify({post:{like:!0}})}).then(e=>e.json()).then(e=>e.post)}catch(e){throw new x("CLIENT",e.message)}},de=`w-[75px] p-3
                grid grid-flow-col place-items-center gap-x-1
                text-white
                bg-red rounded-md`;var me=({postID:t,likesCount:e=0})=>{const[a,n]=l.exports.useState(e);return i("button",{className:de,onClick:async()=>{const o=await le(t);n(o==null?void 0:o.likes)},children:[r("img",{src:ce,alt:"heart"}),r("span",{children:a>=1e3?`${Math.round(a/10)/100}K`:a})]})};const pe=`w-full pb-6
            grid gap-y-6 grid-rows-[370px_1fr]
            bg-white rounded shadow`,ue=`w-full h-full
                    object-cover rounded-t-lg`,he=`px-6
                    grid gap-y-6`,fe="flex flex-col",xe="text-primary-bold font-normal text-lg",ge="text-primary font-light text-base cursor-pointer hover:underline",be="text-primary-bold font-normal text-lg",ve="flex items-center",we="mx-3 grow text-primary cursor-pointer hover:underline";var ye=({id:t,image:e,title:a,author:n,description:s,comments:o,likes:c})=>i("div",{className:pe,children:[r("img",{className:ue,src:e,alt:"Image Card"}),i("div",{className:he,children:[i("div",{className:fe,children:[r("span",{className:xe,children:a}),i("span",{className:ge,children:["@",n==null?void 0:n.username]})]}),r("span",{className:be,children:s}),i("div",{className:ve,children:[r("img",{src:ie,alt:"Comment icon"}),i("span",{className:we,children:["Comments (",o,")"]}),r(me,{postID:t,likesCount:c})]})]})]});const Ne=`grid gap-6 grid-cols-1
                    sm:grid-cols-2 xl:grid-cols-3`,ke=`fixed inset-0 z-10
                flex flex-col justify-center items-center`,_e="flex flex-col",Le="text-primary-bold font-normal text-2xl",je=r("div",{className:ke,children:r("div",{className:_e,children:r("span",{className:Le,children:"No posts found"})})});var Se=({posts:t,loading:e})=>r("div",{className:Ne,children:(()=>e?r(H,{}):t.length?t.map((n,s)=>r(ye,m({},n),s)):je)()}),Me=()=>{const[t,e]=l.exports.useState([]),[a,n]=l.exports.useState(!1),[s,o]=l.exports.useState(!0);return l.exports.useEffect(async()=>{!t.length&&!a&&e(await h()),o(!1)},[t]),i(C,{children:[r(E,{}),r(ae,{handleSearch:async({target:g})=>{o(!0),n(!0);const{value:b}=g;e(b?await h(b):await h())}}),r(Se,{posts:t,loading:s})]})};const Ce=`
            w-full h-screen
            md:w-[750px] md:h-[624px] md:p-[186px]
            flex flex-col justify-center`,Ee=`mb-9
                    flex flex-col items-center
                    text-2xl text-center text-primary-bold`,j="flex flex-col",S="text-primary mb-1.5",M=`p-2
                    rounded-lg border-2 border-primary
                    outline-none
                    text-primary`,Ae=`w-full p-3 mt-9
                grid grid-flow-col place-items-center gap-x-1
                text-white
                bg-blue rounded-md`,He=`p-2 mt-9
                    rounded-lg border-2 border-red-dark
                    text-red-dark
                    bg-red-light`;var Ie=()=>{const[t,e]=l.exports.useState(!1);return i("div",{className:Ce,children:[i("div",{className:Ee,children:[r("img",{src:A,alt:"Logo",width:"75"}),r("span",{children:"Welcome to Agora"})]}),i("form",{children:[i("div",{className:j,children:[r("label",{htmlFor:"name",className:S,children:"Email"}),r("input",{type:"email",name:"name",className:M,minLength:3,maxLength:50,required:!0})]}),i("div",{className:j,children:[r("label",{htmlFor:"name",className:S,children:"password"}),r("input",{type:"password",name:"name",className:M,minLength:6,maxLength:50})]}),r("button",{type:"submit",className:Ae,children:"Login"})]}),r("div",{className:`${He} ${t?"visible":"hidden"}`,children:"Invalid email or password"})]})},Pe=()=>r("div",{className:"flex place-content-center",children:r(Ie,{})});const Be=`fixed inset-0 z-[-10]
                flex place-content-center
                font-normal text-lg text-center`,De=`w-[348px]
                        flex flex-col justify-center items-center`,qe="w-32 h-32 object-fit rounded-full",Ge="my-6 text-primary-bold",Te="text-primary";var Re=({avatar:t,username:e,description:a})=>r("div",{className:Be,children:i("div",{className:De,children:[r("img",{className:qe,src:t,alt:"Image Card"}),i("span",{className:Ge,children:["@",e]}),r("span",{className:Te,children:a})]})});const Fe=async()=>{try{return await fetch("/api/author/5").then(t=>t.json()).then(({author:t})=>t)}catch(t){throw new x("CLIENT",t.message)}};var Oe=()=>{const[t,e]=l.exports.useState(!0),[a,n]=l.exports.useState(null);return l.exports.useEffect(async()=>{a||(n(await Fe()),e(!1))},[a]),i(C,{children:[r(E,{}),t?r(H,{}):r(Re,{profile:a})]})},ze=()=>r("div",{className:"main xl:p-[24px_160px] 2xl:p-[24px_20vw]",children:r($,{basename:"/Agora",children:i(V,{children:[r(u,{exact:!0,path:"/",element:r(Me,{})}),r(u,{exact:!0,path:"/login",element:r(Pe,{})}),r(u,{exact:!0,path:"/profile",element:r(Oe,{})})]})})});J({environment:"production"});W.render(r(Y.StrictMode,{children:r(ze,{})}),document.getElementById("root"));
