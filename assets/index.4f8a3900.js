var S=Object.defineProperty,M=Object.defineProperties;var C=Object.getOwnPropertyDescriptors;var v=Object.getOwnPropertySymbols;var A=Object.prototype.hasOwnProperty,E=Object.prototype.propertyIsEnumerable;var b=(t,e,r)=>e in t?S(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,p=(t,e)=>{for(var r in e||(e={}))A.call(e,r)&&b(t,r,e[r]);if(v)for(var r of v(e))E.call(e,r)&&b(t,r,e[r]);return t},w=(t,e)=>M(t,C(e));var H=(t,e,r)=>{if(!e.has(t))throw TypeError("Cannot "+r)};var m=(t,e,r)=>(H(t,e,"read from private field"),r?r.call(t):e.get(t)),y=(t,e,r)=>{if(e.has(t))throw TypeError("Cannot add the same private member more than once");e instanceof WeakSet?e.add(t):e.set(t,r)};import{c as P,M as N,h as B,b as I,S as D,j as h,L as k,_ as q,r as l,B as G,R as T,a as _,d as R,e as O}from"./vendor.e8acf6a1.js";const z=function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))n(a);new MutationObserver(a=>{for(const o of a)if(o.type==="childList")for(const c of o.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&n(c)}).observe(document,{childList:!0,subtree:!0});function r(a){const o={};return a.integrity&&(o.integrity=a.integrity),a.referrerpolicy&&(o.referrerPolicy=a.referrerpolicy),a.crossorigin==="use-credentials"?o.credentials="include":a.crossorigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function n(a){if(a.ep)return;a.ep=!0;const o=r(a);fetch(a.href,o)}};z();var j=[{id:1,username:"paeolohiram",description:"Rockstar of the world",avatar:"https://randomuser.me/api/portraits/men/32.jpg"},{id:2,username:"dieloy",description:"Gamer professional and passionate designer",avatar:"https://randomuser.me/api/portraits/women/44.jpg"},{id:3,username:"ygreensall",description:"Singer and master communication services",avatar:"https://randomuser.me/api/portraits/men/46.jpg"},{id:4,username:"ubrittian",description:"Traveler lover and professional photographer",avatar:"https://api.uifaces.co/our-content/donated/3799Ffxy.jpeg"},{id:5,username:"roremdev",description:"\u26A1\uFE0F Software Engineer",avatar:"https://avatars.githubusercontent.com/u/58270359?s=400&u=c28c4995ee478b3d17bf6b5a8c00c41ce19acb6f&v=4"}],V=[{id:1,image:"https://images.unsplash.com/photo-1570654844562-3661dd9ab169?ixlib=rb-1.2.1&ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&auto=format&fit=crop&w=987&q=80",title:"Nordic Mountains",description:"Some quick example to build on the card title and make up the bulk the card's content.",comments:98,likes:100},{id:2,image:"https://images.unsplash.com/photo-1604537529300-3744886c512c?ixlib=rb-1.2.1&ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&auto=format&fit=crop&w=2669&q=80",title:"England Lake",description:"Some quick example to build on the card title and make up the bulk the card's content.",comments:25,likes:50},{id:3,image:"https://images.unsplash.com/photo-1591017403321-dc264d1fd6e5?ixlib=rb-1.2.1&ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&auto=format&fit=crop&w=2671&q=80",title:"Miami Beach",description:"Some quick example to build on the card title and make up the bulk the card's content.",comments:2,likes:15},{id:4,image:"https://images.unsplash.com/photo-1570655670276-2fa0872d03e3?ixlib=rb-1.2.1&ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&auto=format&fit=crop&w=2668&q=80",title:"Canada Landscape",description:"Some quick example to build on the card title and make up the bulk the card's content.",comments:100,likes:150}];function F({environment:t}){return console.log("miragejs server"),P({environment:t,models:{author:N.extend({post:B()}),post:N.extend({author:I()})},serializers:{post:D.extend({include:["author"],embed:!0})},seeds(e){V.forEach((r,n)=>{e.create("post",w(p({},r),{author:e.create("author",j[n])}))}),e.create("author",j[4])},routes(){this.get("/api/author/:id",({authors:e},{params:r})=>{const{id:n}=r;return e.find(n)}),this.get("/api/posts",({posts:e},{queryParams:r})=>{const{title:n}=r;return n?e.where(a=>a.title.includes(n)):e.all()}),this.patch("/api/post/:id",({db:e,posts:r},{params:n,requestBody:a})=>{const{id:o}=n,c=e.posts.find(o);return JSON.parse(a).post.like&&c.likes>=0?r.find(o).update({likes:++c.likes}):r.find(o).update({likes:--c.likes})})}})}var W="/Agora/assets/agora.b5511d9e.svg",Y="/Agora/assets/user.e403ebee.svg";const s=h.exports.jsx,i=h.exports.jsxs,$=h.exports.Fragment,K="flex justify-between items-end",U="cursor-pointer";var J=()=>i("header",{className:K,children:[s(k,{to:"/",children:s("img",{src:W,alt:"Agora"})}),s(k,{to:"/profile",children:s("img",{className:U,src:Y,alt:"User"})})]});const Q="grid gap-y-6 grid-cols-1 md:grid-cols-6",X=`p-2
                    rounded-lg border-2 border-primary
                    outline-none
                    text-primary
                    col-span-2`;var Z=({handleSearch:t})=>s("div",{className:Q,children:s("input",{className:X,type:"text",placeholder:"Search",onKeyUp:t})}),ee="/Agora/assets/logo.f5ad66c7.svg";const te=`fixed inset-0 z-10
                flex flex-col justify-center items-center`,re="mb-3 flex flex-col",se="text-primary-bold font-normal text-2xl";var L=()=>i("div",{className:te,children:[i("div",{className:re,children:[s("img",{src:ee,alt:"logo"}),s("span",{className:se,children:"Loading"})]}),s(q,{color:"#657172",loading:"true",size:35})]}),ae="/Agora/assets/comment.e97b16fd.svg",oe="/Agora/assets/heart.5a1f8d21.svg",d;class f extends Error{constructor(e="CLIENT",r="without trace"){super(r);y(this,d,{CLIENT:{code:500,description:"Internal Application Error"}});this.code=m(this,d)[e].code,this.description=m(this,d)[e].description}}d=new WeakMap;const u=async(t="")=>{try{return await fetch(`/api/posts?title=${t}`).then(e=>e.json()).then(e=>e.posts)}catch(e){throw new f("CLIENT",e.message)}},ne=async t=>{try{return await fetch(`/api/post/${t}`,{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify({post:{like:!0}})}).then(e=>e.json()).then(e=>e.post)}catch(e){throw new f("CLIENT",e.message)}},ie=`w-[75px] p-3
                grid grid-flow-col place-items-center gap-x-1
                text-white
                bg-red rounded-md`;var ce=({postID:t,likesCount:e=0})=>{const[r,n]=l.exports.useState(e);return i("button",{className:ie,onClick:async()=>{const o=await ne(t);n(o==null?void 0:o.likes)},children:[s("img",{src:oe,alt:"heart"}),s("span",{children:r>=1e3?`${Math.round(r/10)/100}K`:r})]})};const le=`w-full pb-6
            grid gap-y-6 grid-rows-[370px_1fr]
            bg-white rounded shadow`,de=`w-full h-full
                    object-cover rounded-t-lg`,pe=`px-6
                    grid gap-y-6`,me="flex flex-col",ue="text-primary-bold font-normal text-lg",he="text-primary font-light text-base cursor-pointer hover:underline",fe="text-primary-bold font-normal text-lg",ge="flex items-center",xe="mx-3 grow text-primary cursor-pointer hover:underline";var ve=({id:t,image:e,title:r,author:n,description:a,comments:o,likes:c})=>i("div",{className:le,children:[s("img",{className:de,src:e,alt:"Image Card"}),i("div",{className:pe,children:[i("div",{className:me,children:[s("span",{className:ue,children:r}),i("span",{className:he,children:["@",n==null?void 0:n.username]})]}),s("span",{className:fe,children:a}),i("div",{className:ge,children:[s("img",{src:ae,alt:"Comment icon"}),i("span",{className:xe,children:["Comments (",o,")"]}),s(ce,{postID:t,likesCount:c})]})]})]});const be=`grid gap-6 grid-cols-1
                    sm:grid-cols-2 xl:grid-cols-3`,we=`fixed inset-0 z-10
                flex flex-col justify-center items-center`,ye="flex flex-col",Ne="text-primary-bold font-normal text-2xl",ke=s("div",{className:we,children:s("div",{className:ye,children:s("span",{className:Ne,children:"No posts found"})})});var _e=({posts:t,loading:e})=>s("div",{className:be,children:(()=>e?s(L,{}):t.length?t.map((n,a)=>s(ve,p({},n),a)):ke)()}),je=()=>{const[t,e]=l.exports.useState([]),[r,n]=l.exports.useState(!1),[a,o]=l.exports.useState(!0);return l.exports.useEffect(async()=>{!t.length&&!r&&e(await u()),o(!1)},[t]),i($,{children:[s(Z,{handleSearch:async({target:g})=>{o(!0),n(!0);const{value:x}=g;e(x?await u(x):await u())}}),s(_e,{posts:t,loading:a})]})};const Le=`fixed inset-0 z-[-10]
                flex place-content-center
                font-normal text-lg text-center`,Se=`w-[348px]
                        flex flex-col justify-center items-center`,Me="w-32 h-32 object-fit rounded-full",Ce="my-6 text-primary-bold",Ae="text-primary";var Ee=({avatar:t,username:e,description:r})=>s("div",{className:Le,children:i("div",{className:Se,children:[s("img",{className:Me,src:t,alt:"Image Card"}),i("span",{className:Ce,children:["@",e]}),s("span",{className:Ae,children:r})]})});const He=async()=>{try{return await fetch("/api/author/5").then(t=>t.json()).then(({author:t})=>t)}catch(t){throw new f("CLIENT",t.message)}};var Pe=()=>{const[t,e]=l.exports.useState(!0),[r,n]=l.exports.useState(null);return l.exports.useEffect(async()=>{r||(n(await He()),e(!1))},[r]),t?s(L,{}):s(Ee,p({},r))},Be=()=>s("div",{className:"main xl:p-[24px_160px] 2xl:p-[24px_20vw]",children:i(G,{basename:"/Agora",children:[s(J,{}),i(T,{children:[s(_,{exact:!0,path:"/",element:s(je,{})}),s(_,{exact:!0,path:"/profile",element:s(Pe,{})})]})]})});F({environment:"production"});R.render(s(O.StrictMode,{children:s(Be,{})}),document.getElementById("root"));
